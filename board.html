<!DOCTYPE html>
<html lang="id">
<head>
    <script>
        // Cek secara instan sebelum halaman sempat dirender
        if (localStorage.getItem('isLoggedIn_2026') !== 'true') {
            window.location.replace("login.html");
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Manajemen Luarbiasa</title>
    <link rel="stylesheet" href="board.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="MASTERMAIN">
        <aside id="CONSIDEBAR">
            <nav class="sidebar-menu">
                <div class="menu-item active">
                    <span class="menu-text">DASHBOARD</span>
                </div>
                <a href="index.html" class="menu-item">
                    <span class="menu-text">RPD</span>
                </a>
                <a href="input.html" class="menu-item">
                    <span class="menu-text">INPUT</span>
                </a>
                <a href="das.html" class="menu-item">
                    <span class="menu-text">LAPORAN</span>
                </a>
                <div class="menu-item" onclick="logoutSession()">
                    <span class="menu-text">KELUAR</span>
                </div>
            </nav>
        </aside>

        <main id="MAIN_CONTENT_AREA">
            <section id="CON1">
                <h2 class="board-label">PAGU <span>TAHUNAN</span></h2>
                
                <div class="das-container-vertical">
                    <div class="das-item-row">
                        <span class="das-title">PAGU TAHUNAN</span>
                        <span id="ANNUAL_PAGU" class="das-value">Rp 0</span>
                    </div>
                    <div class="das-item-row">
                        <span class="das-title">CAPAIAN</span>
                        <span id="ANNUAL_REALIZATION" class="das-value gold-text">Rp 0</span>
                    </div>
                    <div class="das-item-row">
                        <span class="das-title">PERSENTASE</span>
                        <span id="ANNUAL_PERCENT" class="das-value">0%</span>
                    </div>
                    <div class="das-item-row">
                        <span class="das-title">SISA PAGU</span>
                        <span id="ANNUAL_REMAINING" class="das-value red-text">Rp 0</span>
                    </div>
                </div>

                <div class="chart-box">
                    <h4 class="chart-mini-label">REALISASI <span>TAHUNAN</span></h4>
                    <canvas id="annualBarChart"></canvas>
                </div>
                <div class="chart-box" style="margin-top: 20px;">
                    <h4 class="chart-mini-label">TREN REALISASI <span>BULANAN</span></h4>
                    <canvas id="monthlyTrendChart"></canvas>
                </div>
            </section>

            <div id="RIGHT_ROW"> 
                
                <section id="CON2">
                    <h3 class="section-title">BERDASARKAN <span>JENIS BELANJA</span></h3>
                    <div class="das-group-container">
                        <div class="group-card">
                            <div class="group-header">BELANJA PEGAWAI</div>
                            <div class="group-body">
                                <div class="mini-stat"><b id="PCT_PEGAWAI">0%</b> <span id="VAL_PEGAWAI">Rp 0</span></div>
                                <div class="progress-bar"><div id="BAR_PEGAWAI" class="progress-fill"></div></div>
                                <div class="group-details">
                                    <div class="det-item">Pagu: <span id="PAGU_PEGAWAI">Rp 0</span></div>
                                    <div class="det-item">Capaian: <span id="REAL_PEGAWAI">Rp 0</span></div>
                                    <div class="det-item">Sisa: <span id="SISA_PEGAWAI" class="red-text">Rp 0</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="group-card">
                            <div class="group-header">BELANJA BARANG</div>
                            <div class="group-body">
                                <div class="mini-stat"><b id="PCT_BARANG">0%</b> <span id="VAL_BARANG">Rp 0</span></div>
                                <div class="progress-bar"><div id="BAR_BARANG" class="progress-fill"></div></div>
                                <div class="group-details">
                                    <div class="det-item">Pagu: <span id="PAGU_BARANG">Rp 0</span></div>
                                    <div class="det-item">Capaian: <span id="REAL_BARANG">Rp 0</span></div>
                                    <div class="det-item">Sisa: <span id="SISA_BARANG" class="red-text">Rp 0</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="group-card">
                            <div class="group-header">BELANJA MODAL</div>
                            <div class="group-body">
                                <div class="mini-stat"><b id="PCT_MODAL">0%</b> <span id="VAL_MODAL">Rp 0</span></div>
                                <div class="progress-bar"><div id="BAR_MODAL" class="progress-fill"></div></div>
                                <div class="group-details">
                                    <div class="det-item">Pagu: <span id="PAGU_MODAL">Rp 0</span></div>
                                    <div class="det-item">Capaian: <span id="REAL_MODAL">Rp 0</span></div>
                                    <div class="det-item">Sisa: <span id="SISA_MODAL" class="red-text">Rp 0</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="DAS3">
                    <h3 class="section-title" style="margin-top: 10px;">BERDASARKAN <span>SUMBER DANA</span></h3>
                    <div class="das-group-container">
                        <div class="group-card rm-theme">
                            <div class="group-header">RUPIAH MURNI (RM)</div>
                            <div class="group-body">
                                <div class="mini-stat"><b id="PCT_RM">0%</b> <span id="VAL_RM">Rp 0</span></div>
                                <div class="progress-bar"><div id="BAR_RM" class="progress-fill"></div></div>
                                <div class="group-details">
                                    <div class="det-item">Pagu: <span id="PAGU_RM">Rp 0</span></div>
                                    <div class="det-item">Capaian: <span id="REAL_RM">Rp 0</span></div>
                                    <div class="det-item">Sisa: <span id="SISA_RM" class="red-text">Rp 0</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="group-card pnbp-theme">
                            <div class="group-header">PENERIMAAN NEGARA BUKAN PAJAK (PNBP)</div>
                            <div class="group-body">
                                <div class="mini-stat"><b id="PCT_PNBP">0%</b> <span id="VAL_PNBP">Rp 0</span></div>
                                <div class="progress-bar"><div id="BAR_PNBP" class="progress-fill"></div></div>
                                <div class="group-details">
                                    <div class="det-item">Pagu: <span id="PAGU_PNBP">Rp 0</span></div>
                                    <div class="det-item">Capaian: <span id="REAL_PNBP">Rp 0</span></div>
                                    <div class="det-item">Sisa: <span id="SISA_PNBP" class="red-text">Rp 0</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="DAS4">
                    <div class="das4-header-flex">
                        <h3 class="section-title">MONITORING <span>BULANAN</span></h3>
                        <div class="filter-wrapper">
                            <select id="SELECT_MONTH" class="input-neumorph-select-sm">
                                <option value="1">JANUARI</option>
                                <option value="2">FEBRUARI</option>
                                <option value="3">MARET</option>
                                <option value="4">APRIL</option>
                                <option value="5">MEI</option>
                                <option value="6">JUNI</option>
                                <option value="7">JULI</option>
                                <option value="8">AGUSTUS</option>
                                <option value="9">SEPTEMBER</option>
                                <option value="10">OKTOBER</option>
                                <option value="11">NOVEMBER</option>
                                <option value="12">DESEMBER</option>
                            </select>

                            <select id="SELECT_CATEGORY" class="input-neumorph-select-sm">
                                <option value="PAGU">PAGU</option>
                                <option value="CAPAIAN">CAPAIAN</option>
                            </select>
                        </div>
                    </div>

                    <div class="scroll-table-container">
                        <table class="das4-table">
                            <thead>
                                <tr>
                                    <th>URAIAN BELANJA</th>
                                    <th>RUPIAH MURNI</th>
                                    <th>PNBP</th>
                                    <th class="total-head">TOTAL</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td class="v-label">BELANJA PEGAWAI</td><td>-</td><td>-</td><td class="v-total">-</td></tr>
                                <tr><td class="v-label">BELANJA BARANG</td><td>-</td><td>-</td><td class="v-total">-</td></tr>
                                <tr><td class="v-label">BELANJA MODAL</td><td>-</td><td>-</td><td class="v-total">-</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div> 
        </main>
    </div>
    <script src="board-script.js"></script>
     <div id="LOGOUT_MODAL" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-icon">!</div>
            <h3>Konfirmasi Keluar</h3>
            <p>Apakah Anda yakin ingin mengakhiri sesi ini dan keluar dari sistem SIMALU?</p>
            <div class="modal-actions">
                <button onclick="closeLogoutModal()" class="btn-cancel">BATAL</button>
                <button onclick="confirmLogout()" class="btn-confirm">YA, KELUAR</button>
            </div>
        </div>
    </div>
</body>
</html>
